<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Projets choisis</title>
  <style>
    body { font-family: Arial; background: #f9f9f9; margin: 20px; }
    h1 { text-align: center; }
    .cards { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
    .card { background: white; border: 1px solid #ccc; border-radius: 8px; width: 300px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .card h2 { font-size: 18px; margin: 0 0 5px; }
    .card h3 { font-size: 15px; color: #555; margin: 0 0 10px; }
    .card p { font-size: 14px; margin: 5px 0; }
    .timestamp { font-size: 12px; color: gray; margin-top: 10px; }
  </style>
</head>
<body>

<h1>Projets Choisis</h1>
<div class="cards" id="etuCards"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>


<script>
  const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRRLJ9CjeHWp4cZv9RI9SJEGUiA4U55TocqjOvFtKIlIvVviIuuFbHjSDVHXZCB9hXwGmjmO6hhfATg/pub?gid=621225106&single=true&output=csv";
fetch(url)
  .then(res => res.text())
  .then(csv => {
    const data = Papa.parse(csv, { header: true }).data;

    const container = document.getElementById("etuCards");
    data.forEach(obj => {
      if(!obj["Prénom"]) return; // ignorer lignes vides
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <h2>${obj["Prénom"]} ${obj["Nom"]}</h2>
        <h3>${obj["Titre du Projet"]}</h3>
        <p>${obj["Description du Projet"]}</p>
        <p><strong>Technologies :</strong> ${obj["Technologies Utilisées"]}</p>
        <div class="timestamp">Ajouté le : ${obj["Timestamp"]}</div>
      `;
      container.appendChild(card);
    });
  });

</body>
</html>
